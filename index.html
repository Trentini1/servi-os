<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Retiblocos System</title>
    
    <!-- 1. Motor Visual (Tailwind) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Fontes -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Anton&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <!-- 3. React (O Motor) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 4. Firebase Compat (O Banco de Dados) -->
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore-compat.js"></script>

    <!-- 5. CSS Incorporado -->
    <style>
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .font-logo { font-family: 'Anton', sans-serif; letter-spacing: 1px; }

        /* Cores da Marca */
        :root {
            --rb-blue: #004aad;
            --rb-orange: #ff6600;
        }

        .text-rb-blue { color: var(--rb-blue); }
        .text-rb-orange { color: var(--rb-orange); }
        .bg-rb-blue { background-color: var(--rb-blue); }
        .bg-rb-orange { background-color: var(--rb-orange); }
        .border-rb-blue { border-color: var(--rb-blue); }
        .border-rb-orange { border-color: var(--rb-orange); }

        canvas { touch-action: none; user-select: none; -webkit-user-select: none; cursor: crosshair; }
        
        /* Loading Screen (Fallback) */
        #loading-screen { position:fixed; inset:0; background:#0f172a; display:flex; justify-content:center; align-items:center; z-index:9999; transition: opacity 0.5s; }
        .loader { width:48px; height:48px; border:5px solid #FFF; border-bottom-color:#ea580c; border-radius:50%; animation:rotation 1s linear infinite; }
        @keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}

        /* --- ANIMAÇÃO DE INTRODUÇÃO (Abertura Épica) --- */
        .intro-overlay {
            position: fixed;
            inset: 0;
            background-color: #0f172a;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            animation: slideUp 0.8s cubic-bezier(0.7, 0, 0.3, 1) forwards;
            animation-delay: 2.5s; /* Tempo total da intro antes de sumir */
        }

        .intro-logo-container {
            animation: zoomIn 0.5s ease-out forwards;
        }

        .intro-rb {
            font-family: 'Anton', sans-serif;
            font-size: 6rem;
            color: white;
            background-color: #ea580c;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 1rem;
            box-shadow: 0 0 30px rgba(234, 88, 12, 0.5);
            margin-bottom: 1rem;
            animation: spinAndDrop 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .intro-text {
            font-family: 'Anton', sans-serif;
            font-size: 2.5rem;
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0;
            animation: fadeInUp 0.5s ease-out 0.8s forwards;
        }

        .intro-sub {
            font-family: 'Inter', sans-serif;
            color: #94a3b8;
            font-size: 0.8rem;
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-top: 0.5rem;
            opacity: 0;
            animation: fadeInUp 0.5s ease-out 1.2s forwards;
        }

        @keyframes spinAndDrop {
            0% { transform: translateY(-100vh) rotate(-360deg) scale(0.5); opacity: 0; }
            100% { transform: translateY(0) rotate(0deg) scale(1); opacity: 1; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideUp {
            to { transform: translateY(-100%); pointer-events: none; }
        }

        /* --- ESTILOS DO CALENDÁRIO OTIMIZADO --- */
        .calendar-grid { 
            display: grid; 
            grid-template-columns: repeat(7, 1fr); 
            gap: 1px; 
            background-color: #334155; 
            border: 1px solid #334155;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        .calendar-day { 
            min-height: 100px; 
            background-color: #1e293b; 
            position: relative; 
            padding: 4px;
        }
        .calendar-day:hover { background-color: #334155; }
        .calendar-header {
            text-align: center;
            font-weight: bold;
            font-size: 0.75rem;
            padding: 8px 0;
            color: #94a3b8;
            text-transform: uppercase;
        }

        /* --- AJUSTES DE IMPRESSÃO --- */
        @media print {
            @page { margin: 10mm; size: A4; }
            body { 
                -webkit-print-color-adjust: exact; 
                print-color-adjust: exact; 
                background: white; 
                color: #1e293b; /* Slate 800 */
            }
            .no-print { display: none !important; }
            .print-only { display: block !important; width: 100%; }
            .page-break { break-inside: avoid; }
            .print-container { padding: 0 !important; margin: 0 !important; }
            
            /* Ajustes de Tabela e Cores na Impressão */
            .print-header { border-bottom: 4px solid var(--rb-orange) !important; }
            .print-section-title { 
                background-color: #f1f5f9 !important; 
                border-left: 5px solid var(--rb-blue) !important;
                color: #0f172a !important;
            }
            .print-table-header { background-color: var(--rb-blue) !important; color: white !important; }
            .print-row-even { background-color: #f8fafc !important; }
        }
        .print-only { display: none; }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-900 text-slate-100">

    <!-- Loading Inicial (Fallback) -->
    <div id="loading-screen"><div class="loader"></div></div>
    
    <!-- Onde o App vai ser injetado -->
    <div id="root"></div>

    <!-- 6. Lógica JS Separada -->
    <script type="text/babel" src="js/app.js"></script>

</body>
</html>
